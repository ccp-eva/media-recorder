<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <script src="./index-umd.js" async></script> -->
    <!-- Best to open this with liver server and not with webpack dev-server -->
    <script
      crossorigin="anonymous"
      src="https://unpkg.com/@ccp-eva/media-recorder"
      async
    ></script>
    <title>Media Recorder Demo</title>
  </head>

  <body>
    <h1>Media Recorder Demo</h1>
    <mark
      >ðŸ“š Please see the
      <a href="https://github.com/ccp-eva/media-recorder" target="_blank"
        ><strong>Docs within the projectâ€™s README.md</strong></a
      >
      for installation, specification and project examples.</mark
    >
    <hr />

    This example uses the online CDN. Thus, the following components are
    encapsulated within the <strong><code>mrec</code></strong> object, which can
    be accessed from the window object. For example, you can toggle the modal by
    using <code>mrec.toggleModal()</code>.

    <h2>Examples</h2>
    You can <strong>run the buttons sequentially</strong> to see the effect.

    <ol>
      <li>
        <button onclick="mrec.toggleModal()">
          Open Modal UI (<code>mrec.toggleModal()</code>)
        </button>
        â®• no webcam stream loaded / empty modal
      </li>
      <li>
        <button onclick="mrec.startStream()">
          Start Webcam Stream (<code>mrec.startStream()</code>)
        </button>
        â®• starts a webcam stream w/o recording it
      </li>
      <li>
        <button onclick="mrec.openVideoPreview()">
          Open Video Previews(<code>mrec.openVideoPreview()</code>)
        </button>
        â®• set modal content to "#video-preview". You should see yourself.
      </li>
      <li>
        <button onclick="stopStream()">Stop Stream</button> â®• stops all active
        webcam streams
      </li>
      <li>
        <button onclick="startRecorder()">Start Recorder</button> â®• starts a
        webcam stream (if not active) and starts recording
      </li>
      <li>
        <button onclick="modalContent('#video-preview')">
          Set Modal Content
        </button>
        â®• set modal content to "#video-preview". You should see yourself & you
        get recorded now :)
      </li>
      <li>
        <button onclick="stopRecorder()">Stop Webcam Recorder</button> â®• stops
        the recording, creates the videofile, stops the webcam stream
      </li>
      <li>
        <button onclick="modalContent('#video-playback')">
          Set Modal Content
        </button>
        â®• set modal content to "#video-playback". You see your recording.
      </li>
      <li>
        <button
          onclick="
        uploadVideo(
          {
            uploadContent: `<img src='spinner-upload.svg' width='800px';>`,
            uploadColor: `#E1B4B4`,
            successContent: `<img src='spinner-done.svg' width='800px';>`,
            successColor: `#D3F9D3`
          }
        )"
        >
          Upload Recorded Video
        </button>
        â®• uploads* the recording (filename defaults to ISO 8601 timestamp)
      </li>
    </ol>

    <small>
      * You need to have a server-side endpoint for this function. PHP example:
      <pre>
      $target_path = "uploads/" . basename($_FILES["vidfile"]["name"] . ".mp4");
      move_uploaded_file($_FILES["vidfile"]["tmp_name"], $target_path );
    </pre
      >
    </small>
  </body>
</html>
